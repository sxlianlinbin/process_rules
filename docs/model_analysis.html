<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>模型分析报告 - 项目表结构与关联关系</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f5f5f5;
            color: #333;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background-color: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        h1 {
            color: #2c3e50;
            border-bottom: 2px solid #3498db;
            padding-bottom: 10px;
        }
        h2 {
            color: #34495e;
            margin-top: 25px;
            margin-bottom: 15px;
        }
        .summary-box {
            background-color: #eaf7ff;
            border-left: 4px solid #3498db;
            padding: 15px;
            margin: 20px 0;
            border-radius: 0 4px 4px 0;
        }
        .model-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }
        .model-table th {
            background-color: #3498db;
            color: white;
            padding: 12px;
            text-align: left;
        }
        .model-table td {
            padding: 10px;
            border-bottom: 1px solid #ddd;
        }
        .model-table tr:nth-child(even) {
            background-color: #f9f9f9;
        }
        .model-table tr:hover {
            background-color: #f0f8ff;
        }
        .relation-cell {
            background-color: #e8f5e9;
            font-weight: bold;
        }
        .fk-cell {
            background-color: #fff3e0;
        }
        .section {
            margin: 30px 0;
            padding: 20px;
            border: 1px solid #eee;
            border-radius: 5px;
        }
        .highlight {
            background-color: #fffacd;
            padding: 2px 4px;
            border-radius: 3px;
        }
        .legend {
            display: flex;
            gap: 20px;
            margin: 15px 0;
        }
        .legend-item {
            display: flex;
            align-items: center;
            gap: 5px;
        }
        .legend-color {
            width: 20px;
            height: 20px;
            border-radius: 3px;
        }
        .relation-color {
            background-color: #e8f5e9;
        }
        .fk-color {
            background-color: #fff3e0;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>模型分析报告 - 项目表结构与关联关系</h1>
        
        <div class="summary-box">
            <h3>项目概览</h3>
            <ul>
                <li><strong>模型总数:</strong> 263个</li>
                <li><strong>分析范围:</strong> e:/data/www/htdnew/process/src/models</li>
                <li><strong>分析时间:</strong> 2026年1月19日</li>
                <li><strong>框架:</strong> 基于zl\base\Model的模型架构</li>
            </ul>
        </div>

        <div class="legend">
            <div class="legend-item">
                <div class="legend-color relation-color"></div>
                <span>关联关系字段</span>
            </div>
            <div class="legend-item">
                <div class="legend-color fk-color"></div>
                <span>外键字段</span>
            </div>
        </div>

        <div class="section">
            <h2>核心表及关联关系</h2>
            
            <h3>1. users (用户表)</h3>
            <table class="model-table">
                <thead>
                    <tr>
                        <th>字段名</th>
                        <th>类型</th>
                        <th>注释</th>
                        <th>关联关系</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>id</td>
                        <td>int</td>
                        <td>主键</td>
                        <td>-</td>
                    </tr>
                    <tr>
                        <td>name</td>
                        <td>str</td>
                        <td>姓名</td>
                        <td>-</td>
                    </tr>
                    <tr>
                        <td>avatar</td>
                        <td>str</td>
                        <td>头像</td>
                        <td>-</td>
                    </tr>
                    <tr>
                        <td>username</td>
                        <td>str</td>
                        <td>用户名</td>
                        <td>-</td>
                    </tr>
                    <tr>
                        <td>sex</td>
                        <td>str</td>
                        <td>性别</td>
                        <td>-</td>
                    </tr>
                    <tr>
                        <td>password</td>
                        <td>str</td>
                        <td>密码</td>
                        <td>-</td>
                    </tr>
                    <tr>
                        <td>status</td>
                        <td>int</td>
                        <td>状态</td>
                        <td>-</td>
                    </tr>
                    <tr class="fk-cell">
                        <td>identity_id</td>
                        <td>int</td>
                        <td>身份id</td>
                        <td>→ identity.id</td>
                    </tr>
                    <tr>
                        <td>created</td>
                        <td>timestamp</td>
                        <td>创建时间</td>
                        <td>-</td>
                    </tr>
                    <tr>
                        <td>modified</td>
                        <td>timestamp</td>
                        <td>修改时间</td>
                        <td>-</td>
                    </tr>
                    <tr>
                        <td>email</td>
                        <td>str</td>
                        <td>邮箱</td>
                        <td>-</td>
                    </tr>
                    <tr>
                        <td>mobile</td>
                        <td>str</td>
                        <td>手机号</td>
                        <td>-</td>
                    </tr>
                    <tr>
                        <td>del_time</td>
                        <td>timestamp</td>
                        <td>删除时间</td>
                        <td>-</td>
                    </tr>
                    <tr>
                        <td>creator</td>
                        <td>int</td>
                        <td>创建人</td>
                        <td>-</td>
                    </tr>
                    <tr>
                        <td>number</td>
                        <td>str</td>
                        <td>工号</td>
                        <td>-</td>
                    </tr>
                    <tr class="fk-cell">
                        <td>default_department_id</td>
                        <td>str</td>
                        <td>默认部门id</td>
                        <td>→ department.id</td>
                    </tr>
                    <tr>
                        <td>identity_type</td>
                        <td>str</td>
                        <td>身份类型</td>
                        <td>-</td>
                    </tr>
                    <tr>
                        <td>source_type</td>
                        <td>int</td>
                        <td>来源类型</td>
                        <td>-</td>
                    </tr>
                    <tr>
                        <td>is_sync</td>
                        <td>int</td>
                        <td>是否同步</td>
                        <td>-</td>
                    </tr>
                    <tr>
                        <td>sort</td>
                        <td>int</td>
                        <td>排序</td>
                        <td>-</td>
                    </tr>
                </tbody>
            </table>

            <h3>2. department (部门表)</h3>
            <table class="model-table">
                <thead>
                    <tr>
                        <th>字段名</th>
                        <th>类型</th>
                        <th>注释</th>
                        <th>关联关系</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>id</td>
                        <td>int</td>
                        <td>部门ID</td>
                        <td>-</td>
                    </tr>
                    <tr>
                        <td>name</td>
                        <td>str</td>
                        <td>部门名称</td>
                        <td>-</td>
                    </tr>
                    <tr>
                        <td>short_name</td>
                        <td>str</td>
                        <td>部门简称</td>
                        <td>-</td>
                    </tr>
                    <tr>
                        <td>sn</td>
                        <td>str</td>
                        <td>部门编号</td>
                        <td>-</td>
                    </tr>
                    <tr class="fk-cell">
                        <td>pid</td>
                        <td>int</td>
                        <td>上级部门ID</td>
                        <td>→ department.id (自关联)</td>
                    </tr>
                    <tr class="fk-cell">
                        <td>creator</td>
                        <td>int</td>
                        <td>创建人ID</td>
                        <td>→ users.id</td>
                    </tr>
                    <tr>
                        <td>created</td>
                        <td>timestamp</td>
                        <td>创建时间</td>
                        <td>-</td>
                    </tr>
                    <tr>
                        <td>modified</td>
                        <td>timestamp</td>
                        <td>修改时间</td>
                        <td>-</td>
                    </tr>
                    <tr>
                        <td>sort</td>
                        <td>int</td>
                        <td>排序</td>
                        <td>-</td>
                    </tr>
                    <tr>
                        <td>is_second_department</td>
                        <td>int</td>
                        <td>是否是二级部门</td>
                        <td>-</td>
                    </tr>
                    <tr>
                        <td>second_department_id</td>
                        <td>int</td>
                        <td>二级部门id</td>
                        <td>-</td>
                    </tr>
                    <tr>
                        <td>is_sync</td>
                        <td>int</td>
                        <td>是否同步</td>
                        <td>-</td>
                    </tr>
                    <tr>
                        <td>status</td>
                        <td>int</td>
                        <td>状态</td>
                        <td>-</td>
                    </tr>
                </tbody>
            </table>

            <h3>3. user_department (用户部门关联表)</h3>
            <table class="model-table">
                <thead>
                    <tr>
                        <th>字段名</th>
                        <th>类型</th>
                        <th>注释</th>
                        <th>关联关系</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>id</td>
                        <td>int</td>
                        <td>主键</td>
                        <td>-</td>
                    </tr>
                    <tr class="fk-cell">
                        <td>uid</td>
                        <td>int</td>
                        <td>用户ID</td>
                        <td>→ users.id</td>
                    </tr>
                    <tr class="fk-cell">
                        <td>department_id</td>
                        <td>int</td>
                        <td>部门ID</td>
                        <td>→ department.id</td>
                    </tr>
                    <tr>
                        <td>zw</td>
                        <td>str</td>
                        <td>职务</td>
                        <td>-</td>
                    </tr>
                    <tr>
                        <td>bm</td>
                        <td>str</td>
                        <td>校外用户挂靠单位别名</td>
                        <td>-</td>
                    </tr>
                    <tr>
                        <td>ksmc</td>
                        <td>str</td>
                        <td>科室</td>
                        <td>-</td>
                    </tr>
                    <tr>
                        <td>is_default</td>
                        <td>int</td>
                        <td>是否默认部门</td>
                        <td>-</td>
                    </tr>
                </tbody>
            </table>

            <h3>4. system_auth_authorize (系统授权表)</h3>
            <table class="model-table">
                <thead>
                    <tr>
                        <th>字段名</th>
                        <th>类型</th>
                        <th>注释</th>
                        <th>关联关系</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>id</td>
                        <td>int</td>
                        <td>主键</td>
                        <td>-</td>
                    </tr>
                    <tr>
                        <td>type</td>
                        <td>str</td>
                        <td>授权类型</td>
                        <td>-</td>
                    </tr>
                    <tr>
                        <td>dataids</td>
                        <td>intarr</td>
                        <td>授权数据id</td>
                        <td>-</td>
                    </tr>
                    <tr>
                        <td>auths</td>
                        <td>strarr</td>
                        <td>授权权限</td>
                        <td>-</td>
                    </tr>
                    <tr>
                        <td>extra</td>
                        <td>json</td>
                        <td>额外参数</td>
                        <td>-</td>
                    </tr>
                    <tr>
                        <td>users</td>
                        <td>json</td>
                        <td>授权用户</td>
                        <td>-</td>
                    </tr>
                    <tr>
                        <td>roles</td>
                        <td>strarr</td>
                        <td>授权角色</td>
                        <td>-</td>
                    </tr>
                    <tr>
                        <td>silent_auth_type</td>
                        <td>int</td>
                        <td>静默授权类型</td>
                        <td>-</td>
                    </tr>
                    <tr class="fk-cell">
                        <td>creator</td>
                        <td>int</td>
                        <td>创建人</td>
                        <td>→ users.id</td>
                    </tr>
                    <tr>
                        <td>created</td>
                        <td>timestamp</td>
                        <td>创建时间</td>
                        <td>-</td>
                    </tr>
                    <tr>
                        <td>modified</td>
                        <td>timestamp</td>
                        <td>更新时间</td>
                        <td>-</td>
                    </tr>
                </tbody>
            </table>

            <h3>5. team (标签表)</h3>
            <table class="model-table">
                <thead>
                    <tr>
                        <th>字段名</th>
                        <th>类型</th>
                        <th>注释</th>
                        <th>关联关系</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>id</td>
                        <td>int</td>
                        <td>主键</td>
                        <td>-</td>
                    </tr>
                    <tr>
                        <td>type</td>
                        <td>int</td>
                        <td>类型</td>
                        <td>-</td>
                    </tr>
                    <tr>
                        <td>name</td>
                        <td>str</td>
                        <td>名称</td>
                        <td>-</td>
                    </tr>
                    <tr class="fk-cell">
                        <td>pid</td>
                        <td>int</td>
                        <td>父标签ID</td>
                        <td>→ team.id (自关联)</td>
                    </tr>
                    <tr>
                        <td>sync_config</td>
                        <td>json</td>
                        <td>同步配置</td>
                        <td>-</td>
                    </tr>
                    <tr>
                        <td>created</td>
                        <td>timestamp</td>
                        <td>创建时间</td>
                        <td>-</td>
                    </tr>
                    <tr>
                        <td>updated</td>
                        <td>timestamp</td>
                        <td>更新时间</td>
                        <td>-</td>
                    </tr>
                    <tr class="fk-cell">
                        <td>creator</td>
                        <td>int</td>
                        <td>创建者</td>
                        <td>→ users.id</td>
                    </tr>
                    <tr>
                        <td>status</td>
                        <td>int</td>
                        <td>状态</td>
                        <td>-</td>
                    </tr>
                    <tr>
                        <td>sort</td>
                        <td>int</td>
                        <td>排序</td>
                        <td>-</td>
                    </tr>
                    <tr>
                        <td>sn</td>
                        <td>str</td>
                        <td>标签编码</td>
                        <td>-</td>
                    </tr>
                </tbody>
            </table>

            <h3>6. team_user (标签用户关联表)</h3>
            <table class="model-table">
                <thead>
                    <tr>
                        <th>字段名</th>
                        <th>类型</th>
                        <th>注释</th>
                        <th>关联关系</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>id</td>
                        <td>int</td>
                        <td>主键</td>
                        <td>-</td>
                    </tr>
                    <tr class="fk-cell">
                        <td>team_id</td>
                        <td>int</td>
                        <td>团队ID</td>
                        <td>→ team.id</td>
                    </tr>
                    <tr class="fk-cell">
                        <td>uid</td>
                        <td>int</td>
                        <td>用户ID</td>
                        <td>→ users.id</td>
                    </tr>
                    <tr>
                        <td>created</td>
                        <td>timestamp</td>
                        <td>创建时间</td>
                        <td>-</td>
                    </tr>
                    <tr class="fk-cell">
                        <td>creator</td>
                        <td>int</td>
                        <td>创建人ID</td>
                        <td>→ users.id</td>
                    </tr>
                    <tr>
                        <td>sort</td>
                        <td>int</td>
                        <td>排序</td>
                        <td>-</td>
                    </tr>
                </tbody>
            </table>

            <h3>7. job (岗位表)</h3>
            <table class="model-table">
                <thead>
                    <tr>
                        <th>字段名</th>
                        <th>类型</th>
                        <th>注释</th>
                        <th>关联关系</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>id</td>
                        <td>int</td>
                        <td>主键</td>
                        <td>-</td>
                    </tr>
                    <tr>
                        <td>name</td>
                        <td>str</td>
                        <td>岗位名称</td>
                        <td>-</td>
                    </tr>
                    <tr>
                        <td>created</td>
                        <td>timestamp</td>
                        <td>创建时间</td>
                        <td>-</td>
                    </tr>
                    <tr class="fk-cell">
                        <td>creator</td>
                        <td>int</td>
                        <td>创建人</td>
                        <td>→ users.id</td>
                    </tr>
                    <tr>
                        <td>sort</td>
                        <td>int</td>
                        <td>排序</td>
                        <td>-</td>
                    </tr>
                    <tr>
                        <td>status</td>
                        <td>int</td>
                        <td>状态</td>
                        <td>-</td>
                    </tr>
                    <tr>
                        <td>modified</td>
                        <td>timestamp</td>
                        <td>修改时间</td>
                        <td>-</td>
                    </tr>
                    <tr>
                        <td>sn</td>
                        <td>str</td>
                        <td>岗位编码</td>
                        <td>-</td>
                    </tr>
                    <tr>
                        <td>type</td>
                        <td>int</td>
                        <td>动静态类型</td>
                        <td>-</td>
                    </tr>
                </tbody>
            </table>

            <h3>8. user_job (用户岗位关联表)</h3>
            <table class="model-table">
                <thead>
                    <tr>
                        <th>字段名</th>
                        <th>类型</th>
                        <th>注释</th>
                        <th>关联关系</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>id</td>
                        <td>int</td>
                        <td>主键</td>
                        <td>-</td>
                    </tr>
                    <tr class="fk-cell">
                        <td>uid</td>
                        <td>int</td>
                        <td>用户id</td>
                        <td>→ users.id</td>
                    </tr>
                    <tr class="fk-cell">
                        <td>job_id</td>
                        <td>int</td>
                        <td>岗位id</td>
                        <td>→ job.id</td>
                    </tr>
                    <tr class="fk-cell">
                        <td>depart_id</td>
                        <td>str</td>
                        <td>部门id</td>
                        <td>→ department.id</td>
                    </tr>
                    <tr>
                        <td>creator</td>
                        <td>str</td>
                        <td>创建人</td>
                        <td>-</td>
                    </tr>
                    <tr>
                        <td>created</td>
                        <td>str</td>
                        <td>创建时间</td>
                        <td>-</td>
                    </tr>
                    <tr>
                        <td>sort</td>
                        <td>str</td>
                        <td>排序</td>
                        <td>-</td>
                    </tr>
                    <tr>
                        <td>app_ids</td>
                        <td>intarr</td>
                        <td>事项 id  这个不用了</td>
                        <td>-</td>
                    </tr>
                </tbody>
            </table>

            <h3>9. app (应用表)</h3>
            <table class="model-table">
                <thead>
                    <tr>
                        <th>字段名</th>
                        <th>类型</th>
                        <th>注释</th>
                        <th>关联关系</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>id</td>
                        <td>int</td>
                        <td>ID</td>
                        <td>-</td>
                    </tr>
                    <tr>
                        <td>name</td>
                        <td>json</td>
                        <td>名称</td>
                        <td>-</td>
                    </tr>
                    <tr>
                        <td>short_name</td>
                        <td>json</td>
                        <td>简称</td>
                        <td>-</td>
                    </tr>
                    <tr>
                        <td>icon</td>
                        <td>str</td>
                        <td>图标</td>
                        <td>-</td>
                    </tr>
                    <tr>
                        <td>type</td>
                        <td>int</td>
                        <td>类型</td>
                        <td>-</td>
                    </tr>
                    <tr>
                        <td>public_version_id</td>
                        <td>int</td>
                        <td>公开版本ID</td>
                        <td>-</td>
                    </tr>
                    <tr>
                        <td>status</td>
                        <td>int</td>
                        <td>状态</td>
                        <td>-</td>
                    </tr>
                    <tr>
                        <td>keywords</td>
                        <td>strarr</td>
                        <td>关键词</td>
                        <td>-</td>
                    </tr>
                    <tr class="fk-cell">
                        <td>depart_id</td>
                        <td>int</td>
                        <td>管理部门ID</td>
                        <td>→ department.id</td>
                    </tr>
                    <tr>
                        <td>categorys</td>
                        <td>intarr</td>
                        <td>分类ID</td>
                        <td>-</td>
                    </tr>
                    <tr>
                        <td>identity</td>
                        <td>intarr</td>
                        <td>身份ID</td>
                        <td>-</td>
                    </tr>
                    <tr>
                        <td>visible_roles</td>
                        <td>strarr</td>
                        <td>可见角色</td>
                        <td>-</td>
                    </tr>
                    <tr>
                        <td>apply_roles</td>
                        <td>strarr</td>
                        <td>申请角色</td>
                        <td>-</td>
                    </tr>
                    <tr>
                        <td>disable_roles</td>
                        <td>strarr</td>
                        <td>禁用角色</td>
                        <td>-</td>
                    </tr>
                    <tr>
                        <td>description</td>
                        <td>str</td>
                        <td>描述</td>
                        <td>-</td>
                    </tr>
                    <tr>
                        <td>attributes</td>
                        <td>json</td>
                        <td>属性</td>
                        <td>-</td>
                    </tr>
                    <tr>
                        <td>star</td>
                        <td>float</td>
                        <td>星级</td>
                        <td>-</td>
                    </tr>
                    <tr>
                        <td>sort</td>
                        <td>int</td>
                        <td>排序</td>
                        <td>-</td>
                    </tr>
                    <tr>
                        <td>agent_id</td>
                        <td>int</td>
                        <td>企业号消息agent_id</td>
                        <td>-</td>
                    </tr>
                    <tr>
                        <td>flags</td>
                        <td>int</td>
                        <td>标记</td>
                        <td>-</td>
                    </tr>
                    <tr class="fk-cell">
                        <td>creator</td>
                        <td>int</td>
                        <td>创建者</td>
                        <td>→ users.id</td>
                    </tr>
                    <tr>
                        <td>created</td>
                        <td>timestamp</td>
                        <td>创建时间</td>
                        <td>-</td>
                    </tr>
                    <tr>
                        <td>modified</td>
                        <td>timestamp</td>
                        <td>修改时间</td>
                        <td>-</td>
                    </tr>
                    <tr>
                        <td>simulate_users</td>
                        <td>json</td>
                        <td>测试目标用户</td>
                        <td>-</td>
                    </tr>
                    <tr>
                        <td>test_users</td>
                        <td>json</td>
                        <td>测试人员</td>
                        <td>-</td>
                    </tr>
                    <tr>
                        <td>depart_ids</td>
                        <td>intarr</td>
                        <td>服务部门id</td>
                        <td>-</td>
                    </tr>
                </tbody>
            </table>

            <h3>10. app_session (实例表)</h3>
            <table class="model-table">
                <thead>
                    <tr>
                        <th>字段名</th>
                        <th>类型</th>
                        <th>注释</th>
                        <th>关联关系</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>id</td>
                        <td>int</td>
                        <td>主键</td>
                        <td>-</td>
                    </tr>
                    <tr class="fk-cell">
                        <td>app_id</td>
                        <td>int</td>
                        <td>应用ID</td>
                        <td>→ app.id</td>
                    </tr>
                    <tr class="fk-cell">
                        <td>app_version_id</td>
                        <td>int</td>
                        <td>应用版本ID</td>
                        <td>→ app_version.id</td>
                    </tr>
                    <tr class="fk-cell">
                        <td>department_id</td>
                        <td>int</td>
                        <td>部门ID</td>
                        <td>→ department.id</td>
                    </tr>
                    <tr class="fk-cell">
                        <td>creator</td>
                        <td>int</td>
                        <td>创建人ID</td>
                        <td>→ users.id</td>
                    </tr>
                    <tr class="fk-cell">
                        <td>agent</td>
                        <td>int</td>
                        <td>代发起人ID</td>
                        <td>→ users.id</td>
                    </tr>
                    <tr>
                        <td>task_name</td>
                        <td>str</td>
                        <td>任务名称</td>
                        <td>-</td>
                    </tr>
                    <tr>
                        <td>status</td>
                        <td>int</td>
                        <td>状态</td>
                        <td>-</td>
                    </tr>
                    <tr>
                        <td>step</td>
                        <td>int</td>
                        <td>当前步骤</td>
                        <td>-</td>
                    </tr>
                    <tr>
                        <td>anonymous</td>
                        <td>int</td>
                        <td>是否匿名</td>
                        <td>-</td>
                    </tr>
                    <tr class="fk-cell">
                        <td>proc_version_id</td>
                        <td>int</td>
                        <td>流程版本ID</td>
                        <td>→ proc_version.id</td>
                    </tr>
                    <tr>
                        <td>extra</td>
                        <td>json</td>
                        <td>额外数据</td>
                        <td>-</td>
                    </tr>
                    <tr>
                        <td>process_data</td>
                        <td>str</td>
                        <td>流程数据</td>
                        <td>-</td>
                    </tr>
                    <tr>
                        <td>snapshot</td>
                        <td>json</td>
                        <td>快照</td>
                        <td>-</td>
                    </tr>
                    <tr>
                        <td>created</td>
                        <td>timestamp</td>
                        <td>创建时间</td>
                        <td>-</td>
                    </tr>
                    <tr>
                        <td>assignees</td>
                        <td>str</td>
                        <td>当前办理人</td>
                        <td>-</td>
                    </tr>
                    <tr>
                        <td>last_examine</td>
                        <td>timestamp</td>
                        <td>最新办理时间</td>
                        <td>-</td>
                    </tr>
                    <tr>
                        <td>finished</td>
                        <td>timestamp</td>
                        <td>结束时间</td>
                        <td>-</td>
                    </tr>
                    <tr>
                        <td>is_test</td>
                        <td>int</td>
                        <td>是否测试</td>
                        <td>-</td>
                    </tr>
                    <tr>
                        <td>uid_ciphertext</td>
                        <td>int</td>
                        <td>创建人标识(加密</td>
                        <td>-</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <div class="section">
            <h2>主要关联关系总结</h2>
            <ul>
                <li><strong>用户与部门关系</strong>: users ↔ department (通过 user_department 多对多关联)</li>
                <li><strong>用户与岗位关系</strong>: users ↔ job (通过 user_job 多对多关联)</li>
                <li><strong>用户与标签关系</strong>: users ↔ team (通过 team_user 多对多关联)</li>
                <li><strong>用户与身份关系</strong>: users → identity (一对多外键关系)</li>
                <li><strong>部门层级关系</strong>: department 自关联 (通过 pid 字段)</li>
                <li><strong>标签层级关系</strong>: team 自关联 (通过 pid 字段)</li>
                <li><strong>授权关系</strong>: system_auth_authorize 连接到多个实体 (用户、部门、岗位、标签等)</li>
                <li><strong>应用与部门关系</strong>: app → department (通过 depart_id 外键)</li>
                <li><strong>应用与用户关系</strong>: app → users (通过 creator 外键)</li>
                <li><strong>实例与应用关系</strong>: app_session → app (通过 app_id 外键)</li>
            </ul>
        </div>

        <div class="section">
            <h2>表设计特点</h2>
            <ul>
                <li><strong>统一基类</strong>: 大部分模型继承自 <span class="highlight">CacheableModel</span> 或 <span class="highlight">Model</span> 基类</li>
                <li><strong>常量定义</strong>: 每个模型都定义了 <span class="highlight">COLUMNS</span> 和 <span class="highlight">COMMENTS</span> 常量用于描述表结构</li>
                <li><strong>缓存策略</strong>: 通过 <span class="highlight">CacheableModel</span> 实现统一的缓存机制</li>
                <li><strong>关联关系</strong>: 通过外键字段和中间表实现各种关联关系</li>
                <li><strong>权限控制</strong>: 通过 <span class="highlight">system_auth_authorize</span> 实现细粒度的权限管理</li>
                <li><strong>数据完整性</strong>: 通过 <span class="highlight">beforeSave()</span> 和 <span class="highlight">afterSave()</span> 钩子函数维护数据一致性</li>
            </ul>
        </div>

        <div class="section">
            <h2>数据库设计规范</h2>
            <ul>
                <li><strong>命名规范</strong>: 表名使用下划线命名法 (如 users, department, user_department)</li>
                <li><strong>主键规范</strong>: 所有表使用自增整数作为主键，字段名为 <span class="highlight">id</span></li>
                <li><strong>时间戳规范</strong>: 使用 <span class="highlight">created</span> 和 <span class="highlight">modified</span> 字段记录创建和修改时间</li>
                <li><strong>外键命名</strong>: 外键字段通常命名为 <span class="highlight">{关联表}_id</span> 格式</li>
                <li><strong>软删除</strong>: 部分表使用 <span class="highlight">del_time</span> 字段实现软删除</li>
                <li><strong>状态字段</strong>: 使用整数类型的 <span class="highlight">status</span> 字段表示记录状态</li>
            </ul>
        </div>
    </div>
</body>
</html>