<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>增强版数据库表结构文档</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            background-color: #f5f5f5;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background-color: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        h1 {
            text-align: center;
            color: #333;
            border-bottom: 2px solid #4CAF50;
            padding-bottom: 10px;
        }
        .table-section {
            margin-bottom: 40px;
            border: 1px solid #ddd;
            border-radius: 5px;
            overflow: hidden;
        }
        .table-header {
            background-color: #4CAF50;
            color: white;
            padding: 10px;
            font-size: 18px;
            font-weight: bold;
        }
        .table-info {
            padding: 10px;
            background-color: #f9f9f9;
            border-bottom: 1px solid #ddd;
            font-style: italic;
        }
        table {
            width: 100%;
            border-collapse: collapse;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: left;
        }
        th {
            background-color: #f2f2f2;
            font-weight: bold;
        }
        tr:nth-child(even) {
            background-color: #f9f9f9;
        }
        .primary-key {
            background-color: #e6f3ff;
            font-weight: bold;
        }
        .foreign-key {
            background-color: #fff2e6; /* 橙色背景表示外键 */
        }
        .relation-field {
            background-color: #e6ffe6; /* 绿色背景表示关联字段 */
        }
        .legend {
            margin: 20px 0;
            padding: 10px;
            background-color: #f0f8ff;
            border-left: 4px solid #4CAF50;
        }
        .legend-item {
            display: inline-block;
            margin-right: 20px;
            padding: 5px 10px;
        }
        .legend-color {
            display: inline-block;
            width: 20px;
            height: 20px;
            margin-right: 5px;
            vertical-align: middle;
        }
        .foreign-key-legend {
            background-color: #fff2e6;
        }
        .relation-field-legend {
            background-color: #e6ffe6;
        }
        .primary-key-legend {
            background-color: #e6f3ff;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>增强版数据库表结构文档</h1>
        
        <div class="legend">
            <h3>图例说明：</h3>
            <div class="legend-item">
                <span class="legend-color primary-key-legend"></span>
                主键
            </div>
            <div class="legend-item">
                <span class="legend-color foreign-key-legend"></span>
                外键字段
            </div>
            <div class="legend-item">
                <span class="legend-color relation-field-legend"></span>
                关联关系字段
            </div>
        </div>

        <!-- Users Table -->
        <div class="table-section">
            <div class="table-header">users 用户表</div>
            <div class="table-info">存储系统用户的基本信息</div>
            <table>
                <tr>
                    <th>字段名</th>
                    <th>类型</th>
                    <th>长度</th>
                    <th>可否空</th>
                    <th>注释</th>
                    <th>主键</th>
                </tr>
                
                <tr class="primary-key">
                    <td>id</td>
                    <td>int4</td>
                    <td>4</td>
                    <td>NO</td>
                    <td>主键</td>
                    <td>YES</td>
                </tr>
                
                <tr>
                    <td>name</td>
                    <td>varchar</td>
                    <td>128</td>
                    <td>NO</td>
                    <td>姓名</td>
                    <td></td>
                </tr>
                
                <tr>
                    <td>avatar</td>
                    <td>varchar</td>
                    <td>100</td>
                    <td>NO</td>
                    <td>头像</td>
                    <td></td>
                </tr>
                
                <tr>
                    <td>username</td>
                    <td>varchar</td>
                    <td>32</td>
                    <td>NO</td>
                    <td>用户名</td>
                    <td></td>
                </tr>
                
                <tr>
                    <td>password</td>
                    <td>varchar</td>
                    <td>120</td>
                    <td>NO</td>
                    <td>密码</td>
                    <td></td>
                </tr>
                
                <tr>
                    <td>sex</td>
                    <td>varchar</td>
                    <td>20</td>
                    <td>NO</td>
                    <td>性别</td>
                    <td></td>
                </tr>
                
                <tr>
                    <td>status</td>
                    <td>int2</td>
                    <td>2</td>
                    <td>NO</td>
                    <td>状态</td>
                    <td></td>
                </tr>
                
                <tr class="foreign-key">
                    <td>identity_id</td>
                    <td>int4</td>
                    <td>4</td>
                    <td>NO</td>
                    <td>身份id (关联 identity 表)</td>
                    <td></td>
                </tr>
                
                <tr>
                    <td>mobile</td>
                    <td>varchar</td>
                    <td>20</td>
                    <td>NO</td>
                    <td>手机号</td>
                    <td></td>
                </tr>
                
                <tr>
                    <td>email</td>
                    <td>varchar</td>
                    <td>64</td>
                    <td>NO</td>
                    <td>邮箱</td>
                    <td></td>
                </tr>
                
                <tr>
                    <td>created</td>
                    <td>timestamp</td>
                    <td>-</td>
                    <td>NO</td>
                    <td>创建时间</td>
                    <td></td>
                </tr>
                
                <tr>
                    <td>modified</td>
                    <td>timestamp</td>
                    <td>-</td>
                    <td>NO</td>
                    <td>修改时间</td>
                    <td></td>
                </tr>
                
                <tr>
                    <td>creator</td>
                    <td>int4</td>
                    <td>4</td>
                    <td>NO</td>
                    <td>创建人</td>
                    <td></td>
                </tr>
                
                <tr>
                    <td>identity_type</td>
                    <td>varchar</td>
                    <td>60</td>
                    <td>NO</td>
                    <td>身份类型</td>
                    <td></td>
                </tr>
                
                <tr>
                    <td>source_type</td>
                    <td>int2</td>
                    <td>2</td>
                    <td>NO</td>
                    <td>来源类型</td>
                    <td></td>
                </tr>
                
                <tr>
                    <td>del_time</td>
                    <td>timestamp</td>
                    <td>-</td>
                    <td></td>
                    <td>删除时间</td>
                    <td></td>
                </tr>
                
                <tr class="foreign-key">
                    <td>default_department_id</td>
                    <td>int4</td>
                    <td>4</td>
                    <td>NO</td>
                    <td>默认部门id (关联 department 表)</td>
                    <td></td>
                </tr>
                
                <tr>
                    <td>number</td>
                    <td>varchar</td>
                    <td>100</td>
                    <td>NO</td>
                    <td>工号</td>
                    <td></td>
                </tr>
                
                <tr>
                    <td>sort</td>
                    <td>int4</td>
                    <td>4</td>
                    <td>NO</td>
                    <td>排序</td>
                    <td></td>
                </tr>
            </table>
        </div>

        <!-- Department Table -->
        <div class="table-section">
            <div class="table-header">department 部门表</div>
            <div class="table-info">存储系统部门的层级结构信息</div>
            <table>
                <tr>
                    <th>字段名</th>
                    <th>类型</th>
                    <th>长度</th>
                    <th>可否空</th>
                    <th>注释</th>
                    <th>主键</th>
                </tr>
                
                <tr class="primary-key">
                    <td>id</td>
                    <td>int4</td>
                    <td>4</td>
                    <td>NO</td>
                    <td>部门ID</td>
                    <td>YES</td>
                </tr>
                
                <tr>
                    <td>name</td>
                    <td>varchar</td>
                    <td>128</td>
                    <td>NO</td>
                    <td>部门名称</td>
                    <td></td>
                </tr>
                
                <tr>
                    <td>short_name</td>
                    <td>varchar</td>
                    <td>64</td>
                    <td>NO</td>
                    <td>部门简称</td>
                    <td></td>
                </tr>
                
                <tr>
                    <td>sn</td>
                    <td>varchar</td>
                    <td>32</td>
                    <td>NO</td>
                    <td>部门编号</td>
                    <td></td>
                </tr>
                
                <tr class="relation-field">
                    <td>pid</td>
                    <td>int4</td>
                    <td>4</td>
                    <td>NO</td>
                    <td>上级部门ID (自关联字段)</td>
                    <td></td>
                </tr>
                
                <tr class="foreign-key">
                    <td>creator</td>
                    <td>int4</td>
                    <td>4</td>
                    <td>NO</td>
                    <td>创建人ID (关联 users 表)</td>
                    <td></td>
                </tr>
                
                <tr>
                    <td>created</td>
                    <td>timestamp</td>
                    <td>-</td>
                    <td>NO</td>
                    <td>创建时间</td>
                    <td></td>
                </tr>
                
                <tr>
                    <td>modified</td>
                    <td>timestamp</td>
                    <td>-</td>
                    <td>NO</td>
                    <td>修改时间</td>
                    <td></td>
                </tr>
                
                <tr>
                    <td>sort</td>
                    <td>int4</td>
                    <td>4</td>
                    <td>NO</td>
                    <td>排序</td>
                    <td></td>
                </tr>
                
                <tr>
                    <td>is_second_department</td>
                    <td>int4</td>
                    <td>4</td>
                    <td>NO</td>
                    <td>是否是二级部门</td>
                    <td></td>
                </tr>
                
                <tr>
                    <td>second_department_id</td>
                    <td>int4</td>
                    <td>4</td>
                    <td>NO</td>
                    <td>二级部门id</td>
                    <td></td>
                </tr>
                
                <tr>
                    <td>is_sync</td>
                    <td>int4</td>
                    <td>4</td>
                    <td>NO</td>
                    <td>是否同步</td>
                    <td></td>
                </tr>
                
                <tr>
                    <td>status</td>
                    <td>int2</td>
                    <td>2</td>
                    <td>NO</td>
                    <td>状态</td>
                    <td></td>
                </tr>
            </table>
        </div>

        <!-- User-Department Relation Table -->
        <div class="table-section">
            <div class="table-header">user_department 用户部门关联表</div>
            <div class="table-info">存储用户与部门的多对多关系</div>
            <table>
                <tr>
                    <th>字段名</th>
                    <th>类型</th>
                    <th>长度</th>
                    <th>可否空</th>
                    <th>注释</th>
                    <th>主键</th>
                </tr>
                
                <tr class="primary-key">
                    <td>id</td>
                    <td>int4</td>
                    <td>4</td>
                    <td>NO</td>
                    <td>主键</td>
                    <td>YES</td>
                </tr>
                
                <tr class="foreign-key">
                    <td>uid</td>
                    <td>int4</td>
                    <td>4</td>
                    <td>NO</td>
                    <td>用户id (关联 users 表)</td>
                    <td></td>
                </tr>
                
                <tr class="foreign-key">
                    <td>department_id</td>
                    <td>int4</td>
                    <td>4</td>
                    <td>NO</td>
                    <td>部门id (关联 department 表)</td>
                    <td></td>
                </tr>
                
                <tr>
                    <td>is_default</td>
                    <td>int2</td>
                    <td>2</td>
                    <td>NO</td>
                    <td>是否默认部门</td>
                    <td></td>
                </tr>
                
                <tr>
                    <td>zw</td>
                    <td>varchar</td>
                    <td>500</td>
                    <td>NO</td>
                    <td>职位</td>
                    <td></td>
                </tr>
                
                <tr>
                    <td>bm</td>
                    <td>varchar</td>
                    <td>500</td>
                    <td>NO</td>
                    <td>部门</td>
                    <td></td>
                </tr>
            </table>
        </div>

        <!-- Job Table -->
        <div class="table-section">
            <div class="table-header">job 岗位表</div>
            <div class="table-info">存储系统岗位信息</div>
            <table>
                <tr>
                    <th>字段名</th>
                    <th>类型</th>
                    <th>长度</th>
                    <th>可否空</th>
                    <th>注释</th>
                    <th>主键</th>
                </tr>
                
                <tr class="primary-key">
                    <td>id</td>
                    <td>int4</td>
                    <td>4</td>
                    <td>NO</td>
                    <td>主键</td>
                    <td>YES</td>
                </tr>
                
                <tr>
                    <td>name</td>
                    <td>varchar</td>
                    <td>128</td>
                    <td>NO</td>
                    <td>岗位名称</td>
                    <td></td>
                </tr>
                
                <tr>
                    <td>created</td>
                    <td>timestamp</td>
                    <td>-</td>
                    <td>NO</td>
                    <td>创建时间</td>
                    <td></td>
                </tr>
                
                <tr class="foreign-key">
                    <td>creator</td>
                    <td>int4</td>
                    <td>4</td>
                    <td>NO</td>
                    <td>创建人 (关联 users 表)</td>
                    <td></td>
                </tr>
                
                <tr>
                    <td>status</td>
                    <td>int4</td>
                    <td>4</td>
                    <td>NO</td>
                    <td>状态</td>
                    <td></td>
                </tr>
                
                <tr>
                    <td>sort</td>
                    <td>int4</td>
                    <td>4</td>
                    <td>NO</td>
                    <td>排序</td>
                    <td></td>
                </tr>
            </table>
        </div>

        <!-- User-Job Relation Table -->
        <div class="table-section">
            <div class="table-header">user_job 用户岗位关联表</div>
            <div class="table-info">存储用户与岗位的多对多关系</div>
            <table>
                <tr>
                    <th>字段名</th>
                    <th>类型</th>
                    <th>Length</th>
                    <th>可否空</th>
                    <th>注释</th>
                    <th>主键</th>
                </tr>
                
                <tr class="primary-key">
                    <td>id</td>
                    <td>int4</td>
                    <td>4</td>
                    <td>NO</td>
                    <td>主键</td>
                    <td>YES</td>
                </tr>
                
                <tr class="foreign-key">
                    <td>job_id</td>
                    <td>int4</td>
                    <td>4</td>
                    <td>NO</td>
                    <td>岗位id (关联 job 表)</td>
                    <td></td>
                </tr>
                
                <tr class="foreign-key">
                    <td>uid</td>
                    <td>int4</td>
                    <td>4</td>
                    <td>NO</td>
                    <td>用户id (关联 users 表)</td>
                    <td></td>
                </tr>
                
                <tr class="foreign-key">
                    <td>depart_id</td>
                    <td>int4</td>
                    <td>4</td>
                    <td>NO</td>
                    <td>部门id (关联 department 表)</td>
                    <td></td>
                </tr>
                
                <tr>
                    <td>created</td>
                    <td>timestamp</td>
                    <td>-</td>
                    <td>NO</td>
                    <td>创建时间</td>
                    <td></td>
                </tr>
                
                <tr class="foreign-key">
                    <td>creator</td>
                    <td>int4</td>
                    <td>4</td>
                    <td>NO</td>
                    <td>创建人 (关联 users 表)</td>
                    <td></td>
                </tr>
                
                <tr>
                    <td>sort</td>
                    <td>int4</td>
                    <td>4</td>
                    <td>NO</td>
                    <td>排序</td>
                    <td></td>
                </tr>
            </table>
        </div>

        <!-- Team Table -->
        <div class="table-section">
            <div class="table-header">team 标签表</div>
            <div class="table-info">存储系统标签/分组信息</div>
            <table>
                <tr>
                    <th>字段名</th>
                    <th>类型</th>
                    <th>长度</th>
                    <th>可否空</th>
                    <th>注释</th>
                    <th>主键</th>
                </tr>
                
                <tr class="primary-key">
                    <td>id</td>
                    <td>int4</td>
                    <td>4</td>
                    <td>NO</td>
                    <td>主键</td>
                    <td>YES</td>
                </tr>
                
                <tr>
                    <td>type</td>
                    <td>int4</td>
                    <td>4</td>
                    <td>NO</td>
                    <td>类型(0 标签组 1 静态标签 2 动态标签)</td>
                    <td></td>
                </tr>
                
                <tr>
                    <td>name</td>
                    <td>varchar</td>
                    <td>100</td>
                    <td>NO</td>
                    <td>名称</td>
                    <td></td>
                </tr>
                
                <tr class="relation-field">
                    <td>pid</td>
                    <td>int4</td>
                    <td>4</td>
                    <td>NO</td>
                    <td>标签组id (自关联字段)</td>
                    <td></td>
                </tr>
                
                <tr>
                    <td>sync_config</td>
                    <td>jsonb</td>
                    <td>-</td>
                    <td>NO</td>
                    <td>设置规则</td>
                    <td></td>
                </tr>
                
                <tr>
                    <td>created</td>
                    <td>timestamp</td>
                    <td>-</td>
                    <td>NO</td>
                    <td>创建时间</td>
                    <td></td>
                </tr>
                
                <tr>
                    <td>updated</td>
                    <td>timestamp</td>
                    <td>-</td>
                    <td>NO</td>
                    <td>更新时间</td>
                    <td></td>
                </tr>
                
                <tr class="foreign-key">
                    <td>creator</td>
                    <td>int4</td>
                    <td>4</td>
                    <td>NO</td>
                    <td>创建人 (关联 users 表)</td>
                    <td></td>
                </tr>
                
                <tr>
                    <td>status</td>
                    <td>int4</td>
                    <td>4</td>
                    <td>NO</td>
                    <td>状态</td>
                    <td></td>
                </tr>
                
                <tr>
                    <td>sort</td>
                    <td>int4</td>
                    <td>4</td>
                    <td>NO</td>
                    <td>排序</td>
                    <td></td>
                </tr>
            </table>
        </div>

        <!-- Team-User Relation Table -->
        <div class="table-section">
            <div class="table-header">team_user 标签用户关联表</div>
            <div class="table-info">存储标签与用户的多对多关系</div>
            <table>
                <tr>
                    <th>字段名</th>
                    <th>类型</th>
                    <th>长度</th>
                    <th>可否空</th>
                    <th>注释</th>
                    <th>主键</th>
                </tr>
                
                <tr class="primary-key">
                    <td>id</td>
                    <td>int4</td>
                    <td>4</td>
                    <td>NO</td>
                    <td>主键</td>
                    <td>YES</td>
                </tr>
                
                <tr class="foreign-key">
                    <td>team_id</td>
                    <td>int4</td>
                    <td>4</td>
                    <td>NO</td>
                    <td>标签id (关联 team 表)</td>
                    <td></td>
                </tr>
                
                <tr class="foreign-key">
                    <td>uid</td>
                    <td>int4</td>
                    <td>4</td>
                    <td>NO</td>
                    <td>用户id (关联 users 表)</td>
                    <td></td>
                </tr>
                
                <tr>
                    <td>created</td>
                    <td>timestamp</td>
                    <td>-</td>
                    <td>NO</td>
                    <td>创建时间</td>
                    <td></td>
                </tr>
                
                <tr class="foreign-key">
                    <td>creator</td>
                    <td>int4</td>
                    <td>4</td>
                    <td>NO</td>
                    <td>创建人 (关联 users 表)</td>
                    <td></td>
                </tr>
                
                <tr>
                    <td>sort</td>
                    <td>int4</td>
                    <td>4</td>
                    <td>NO</td>
                    <td>排序</td>
                    <td></td>
                </tr>
            </table>
        </div>

        <!-- App Table -->
        <div class="table-section">
            <div class="table-header">app 事项表</div>
            <table>
                <tr>
                    <th>字段名</th>
                    <th>类型</th>
                    <th>长度</th>
                    <th>可否空</th>
                    <th>注释</th>
                    <th>主键</th>
                </tr>
                
                <tr class="primary-key">
                    <td>id</td>
                    <td>int4</td>
                    <td>4</td>
                    <td>NO</td>
                    <td>主键</td>
                    <td>YES</td>
                </tr>
                
                <tr>
                    <td>name</td>
                    <td>jsonb</td>
                    <td>-</td>
                    <td>NO</td>
                    <td>事项名称(多语言)</td>
                    <td></td>
                </tr>
                
                <tr>
                    <td>short_name</td>
                    <td>jsonb</td>
                    <td>-</td>
                    <td>NO</td>
                    <td>事项简称(多语言)</td>
                    <td></td>
                </tr>
                
                <tr>
                    <td>icon</td>
                    <td>varchar</td>
                    <td>128</td>
                    <td>NO</td>
                    <td>图标</td>
                    <td></td>
                </tr>
                
                <tr>
                    <td>type</td>
                    <td>int2</td>
                    <td>2</td>
                    <td>NO</td>
                    <td>类型(1表单事项 2流程事项 3第三方事项)</td>
                    <td></td>
                </tr>
                
                <tr>
                    <td>public_version_id</td>
                    <td>int4</td>
                    <td>4</td>
                    <td>NO</td>
                    <td>已发布版本id</td>
                    <td></td>
                </tr>
                
                <tr>
                    <td>status</td>
                    <td>int2</td>
                    <td>2</td>
                    <td>NO</td>
                    <td>状态(0草稿 1未发布 2待审核 3已发布 4隐藏)</td>
                    <td></td>
                </tr>
                
                <tr>
                    <td>keywords</td>
                    <td>varchar[]</td>
                    <td>-</td>
                    <td>NO</td>
                    <td>搜索关键词</td>
                    <td></td>
                </tr>
                
                <tr class="foreign-key">
                    <td>depart_id</td>
                    <td>int4</td>
                    <td>4</td>
                    <td>NO</td>
                    <td>所属部门 (关联 department 表)</td>
                    <td></td>
                </tr>
                
                <tr>
                    <td>categorys</td>
                    <td>int[]</td>
                    <td>-</td>
                    <td>NO</td>
                    <td>服务分类</td>
                    <td></td>
                </tr>
                
                <tr>
                    <td>identity</td>
                    <td>int[]</td>
                    <td>-</td>
                    <td>NO</td>
                    <td>服务对象</td>
                    <td></td>
                </tr>
                
                <tr>
                    <td>visible_roles</td>
                    <td>varchar[]</td>
                    <td>-</td>
                    <td>NO</td>
                    <td>可见角色</td>
                    <td></td>
                </tr>
                
                <tr>
                    <td>apply_roles</td>
                    <td>varchar[]</td>
                    <td>-</td>
                    <td>NO</td>
                    <td>可申请角色</td>
                    <td></td>
                </tr>
                
                <tr>
                    <td>description</td>
                    <td>text</td>
                    <td>-</td>
                    <td>NO</td>
                    <td>申请说明</td>
                    <td></td>
                </tr>
                
                <tr>
                    <td>attributes</td>
                    <td>jsonb</td>
                    <td>-</td>
                    <td>NO</td>
                    <td>事项属性</td>
                    <td></td>
                </tr>
                
                <tr>
                    <td>star</td>
                    <td>numeric</td>
                    <td>-</td>
                    <td>NO</td>
                    <td>事项评分</td>
                    <td></td>
                </tr>
                
                <tr>
                    <td>sort</td>
                    <td>int4</td>
                    <td>4</td>
                    <td>NO</td>
                    <td>排序</td>
                    <td></td>
                </tr>
                
                <tr>
                    <td>agent_id</td>
                    <td>int4</td>
                    <td>4</td>
                    <td>NO</td>
                    <td>发消息agent_id</td>
                    <td></td>
                </tr>
                
                <tr class="foreign-key">
                    <td>creator</td>
                    <td>int4</td>
                    <td>4</td>
                    <td>NO</td>
                    <td>创建人 (关联 users 表)</td>
                    <td></td>
                </tr>
                
                <tr>
                    <td>created</td>
                    <td>timestamp</td>
                    <td>-</td>
                    <td>NO</td>
                    <td>创建时间</td>
                    <td></td>
                </tr>
                
                <tr>
                    <td>modified</td>
                    <td>timestamp</td>
                    <td>-</td>
                    <td>NO</td>
                    <td>修改时间</td>
                    <td></td>
                </tr>
            </table>
        </div>

        <!-- App Session Table -->
        <div class="table-section">
            <div class="table-header">app_session 实例表</div>
            <table>
                <tr>
                    <th>字段名</th>
                    <th>类型</th>
                    <th>长度</th>
                    <th>可否空</th>
                    <th>注释</th>
                    <th>主键</th>
                </tr>
                
                <tr class="primary-key">
                    <td>id</td>
                    <td>int8</td>
                    <td>8</td>
                    <td>NO</td>
                    <td>主键</td>
                    <td>YES</td>
                </tr>
                
                <tr class="foreign-key">
                    <td>app_id</td>
                    <td>int4</td>
                    <td>4</td>
                    <td>NO</td>
                    <td>事项id (关联 app 表)</td>
                    <td></td>
                </tr>
                
                <tr>
                    <td>task_name</td>
                    <td>varchar</td>
                    <td>255</td>
                    <td>NO</td>
                    <td>任务名称</td>
                    <td></td>
                </tr>
                
                <tr class="foreign-key">
                    <td>app_version_id</td>
                    <td>int4</td>
                    <td>4</td>
                    <td>NO</td>
                    <td>事项版本id (关联 app_version 表)</td>
                    <td></td>
                </tr>
                
                <tr class="foreign-key">
                    <td>proc_version_id</td>
                    <td>int4</td>
                    <td>4</td>
                    <td>NO</td>
                    <td>流程版本id (关联 app_module_version 表)</td>
                    <td></td>
                </tr>
                
                <tr class="foreign-key">
                    <td>creator</td>
                    <td>int4</td>
                    <td>4</td>
                    <td>NO</td>
                    <td>创建人 (关联 users 表)</td>
                    <td></td>
                </tr>
                
                <tr class="foreign-key">
                    <td>agent</td>
                    <td>int4</td>
                    <td>4</td>
                    <td>NO</td>
                    <td>代发起人 (关联 users 表)</td>
                    <td></td>
                </tr>
                
                <tr class="foreign-key">
                    <td>department_id</td>
                    <td>int4</td>
                    <td>4</td>
                    <td>NO</td>
                    <td>部门id (关联 department 表)</td>
                    <td></td>
                </tr>
                
                <tr>
                    <td>anonymous</td>
                    <td>int2</td>
                    <td>2</td>
                    <td>NO</td>
                    <td>是否匿名</td>
                    <td></td>
                </tr>
                
                <tr>
                    <td>status</td>
                    <td>int2</td>
                    <td>2</td>
                    <td>NO</td>
                    <td>状态</td>
                    <td></td>
                </tr>
                
                <tr>
                    <td>extra</td>
                    <td>jsonb</td>
                    <td>-</td>
                    <td>NO</td>
                    <td>额外信息</td>
                    <td></td>
                </tr>
                
                <tr>
                    <td>is_test</td>
                    <td>int2</td>
                    <td>2</td>
                    <td>NO</td>
                    <td>是否测试</td>
                    <td></td>
                </tr>
                
                <tr>
                    <td>snapshot</td>
                    <td>jsonb</td>
                    <td>-</td>
                    <td>NO</td>
                    <td>快照</td>
                    <td></td>
                </tr>
                
                <tr>
                    <td>step</td>
                    <td>int2</td>
                    <td>2</td>
                    <td>NO</td>
                    <td>步骤</td>
                    <td></td>
                </tr>
                
                <tr>
                    <td>process_data</td>
                    <td>text</td>
                    <td>-</td>
                    <td>NO</td>
                    <td>流程数据</td>
                    <td></td>
                </tr>
                
                <tr>
                    <td>created</td>
                    <td>timestamp</td>
                    <td>-</td>
                    <td>NO</td>
                    <td>创建时间</td>
                    <td></td>
                </tr>
                
                <tr>
                    <td>finished</td>
                    <td>timestamp</td>
                    <td>-</td>
                    <td></td>
                    <td>完成时间</td>
                    <td></td>
                </tr>
            </table>
        </div>

        <!-- System Auth Authorize Table -->
        <div class="table-section">
            <div class="table-header">system_auth_authorize 应用系统授权表</div>
            <table>
                <tr>
                    <th>字段名</th>
                    <th>类型</th>
                    <th>长度</th>
                    <th>可否空</th>
                    <th>注释</th>
                    <th>主键</th>
                </tr>
                
                <tr class="primary-key">
                    <td>id</td>
                    <td>int4</td>
                    <td>4</td>
                    <td>NO</td>
                    <td>主键</td>
                    <td>YES</td>
                </tr>
                
                <tr>
                    <td>type</td>
                    <td>varchar</td>
                    <td>32</td>
                    <td>NO</td>
                    <td>授权类型</td>
                    <td></td>
                </tr>
                
                <tr>
                    <td>dataids</td>
                    <td>int[]</td>
                    <td>-</td>
                    <td>NO</td>
                    <td>授权数据id</td>
                    <td></td>
                </tr>
                
                <tr>
                    <td>auths</td>
                    <td>varchar[]</td>
                    <td>-</td>
                    <td>NO</td>
                    <td>授权权限</td>
                    <td></td>
                </tr>
                
                <tr>
                    <td>extra</td>
                    <td>jsonb</td>
                    <td>-</td>
                    <td>NO</td>
                    <td>额外参数</td>
                    <td></td>
                </tr>
                
                <tr>
                    <td>users</td>
                    <td>jsonb</td>
                    <td>-</td>
                    <td>NO</td>
                    <td>被授权人</td>
                    <td></td>
                </tr>
                
                <tr>
                    <td>roles</td>
                    <td>varchar[]</td>
                    <td>-</td>
                    <td>NO</td>
                    <td>角色</td>
                    <td></td>
                </tr>
                
                <tr>
                    <td>silent_auth_type</td>
                    <td>int2</td>
                    <td>2</td>
                    <td>NO</td>
                    <td>静默授权类型</td>
                    <td></td>
                </tr>
                
                <tr class="foreign-key">
                    <td>creator</td>
                    <td>int4</td>
                    <td>4</td>
                    <td>NO</td>
                    <td>创建人 (关联 users 表)</td>
                    <td></td>
                </tr>
                
                <tr>
                    <td>created</td>
                    <td>timestamp</td>
                    <td>-</td>
                    <td>NO</td>
                    <td>创建时间</td>
                    <td></td>
                </tr>
            </table>
        </div>

        <!-- Identity Table -->
        <div class="table-section">
            <div class="table-header">identity 身份表</div>
            <table>
                <tr>
                    <th>字段名</th>
                    <th>类型</th>
                    <th>长度</th>
                    <th>可否空</th>
                    <th>注释</th>
                    <th>主键</th>
                </tr>
                
                <tr class="primary-key">
                    <td>id</td>
                    <td>int4</td>
                    <td>4</td>
                    <td>NO</td>
                    <td>主键</td>
                    <td>YES</td>
                </tr>
                
                <tr>
                    <td>code</td>
                    <td>varchar</td>
                    <td>32</td>
                    <td>NO</td>
                    <td>代码</td>
                    <td></td>
                </tr>
                
                <tr>
                    <td>name</td>
                    <td>varchar</td>
                    <td>128</td>
                    <td>NO</td>
                    <td>名称</td>
                    <td></td>
                </tr>
                
                <tr class="relation-field">
                    <td>pid</td>
                    <td>int4</td>
                    <td>4</td>
                    <td>NO</td>
                    <td>父类id (自关联字段)</td>
                    <td></td>
                </tr>
                
                <tr>
                    <td>type</td>
                    <td>int4</td>
                    <td>4</td>
                    <td>NO</td>
                    <td>身份类型</td>
                    <td></td>
                </tr>
                
                <tr>
                    <td>index_status</td>
                    <td>int2</td>
                    <td>2</td>
                    <td>NO</td>
                    <td>首页配置</td>
                    <td></td>
                </tr>
                
                <tr>
                    <td>status</td>
                    <td>int2</td>
                    <td>2</td>
                    <td>NO</td>
                    <td>状态</td>
                    <td></td>
                </tr>
                
                <tr>
                    <td>modified</td>
                    <td>timestamp</td>
                    <td>-</td>
                    <td>NO</td>
                    <td>修改时间</td>
                    <td></td>
                </tr>
            </table>
        </div>

        <!-- Summary of Relations -->
        <div class="table-section">
            <div class="table-header">表关系总结</div>
            <div class="table-info">主要表之间的关联关系概述</div>
            <table>
                <tr>
                    <th>关系类型</th>
                    <th>源表</th>
                    <th>目标表</th>
                    <th>关联字段</th>
                    <th>关系描述</th>
                </tr>
                
                <tr>
                    <td>外键关联</td>
                    <td>users</td>
                    <td>identity</td>
                    <td>identity_id → id</td>
                    <td>用户与身份的关联</td>
                </tr>
                
                <tr>
                    <td>外键关联</td>
                    <td>users</td>
                    <td>department</td>
                    <td>default_department_id → id</td>
                    <td>用户与默认部门的关联</td>
                </tr>
                
                <tr>
                    <td>多对多关联</td>
                    <td>users</td>
                    <td>department</td>
                    <td>user_department表</td>
                    <td>用户与部门的多对多关系</td>
                </tr>
                
                <tr>
                    <td>多对多关联</td>
                    <td>users</td>
                    <td>job</td>
                    <td>user_job表</td>
                    <td>用户与岗位的多对多关系</td>
                </tr>
                
                <tr>
                    <td>多对多关联</td>
                    <td>users</td>
                    <td>team</td>
                    <td>team_user表</td>
                    <td>用户与标签的多对多关系</td>
                </tr>
                
                <tr>
                    <td>外键关联</td>
                    <td>app</td>
                    <td>department</td>
                    <td>depart_id → id</td>
                    <td>事项与所属部门的关联</td>
                </tr>
                
                <tr>
                    <td>外键关联</td>
                    <td>app</td>
                    <td>users</td>
                    <td>creator → id</td>
                    <td>事项与创建人的关联</td>
                </tr>
                
                <tr>
                    <td>外键关联</td>
                    <td>app_session</td>
                    <td>app</td>
                    <td>app_id → id</td>
                    <td>实例与事项的关联</td>
                </tr>
                
                <tr>
                    <td>外键关联</td>
                    <td>app_session</td>
                    <td>users</td>
                    <td>creator/agent → id</td>
                    <td>实例与创建人/代理人的关联</td>
                </tr>
                
                <tr>
                    <td>自关联</td>
                    <td>department</td>
                    <td>department</td>
                    <td>pid → id</td>
                    <td>部门与其上级部门的层级关系</td>
                </tr>
                
                <tr>
                    <td>自关联</td>
                    <td>team</td>
                    <td>team</td>
                    <td>pid → id</td>
                    <td>标签与其上级标签组的关系</td>
                </tr>
                
                <tr>
                    <td>自关联</td>
                    <td>identity</td>
                    <td>identity</td>
                    <td>pid → id</td>
                    <td>身份与其父级身份的层级关系</td>
                </tr>
                
                <tr>
                    <td>外键关联</td>
                    <td>system_auth_authorize</td>
                    <td>users</td>
                    <td>creator → id</td>
                    <td>授权记录与创建人的关联</td>
                </tr>
            </table>
        </div>
    </div>
</body>
</html>